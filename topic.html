<!DOCTYPE html>
<html lang="lb">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Practice â€¢ SpeakingBuddy</title>
  <link rel="stylesheet" href="topic.css" />
</head>
<body>

  <header class="topbar">
    <div class="topbar-inner">
      <button type="button" class="icon-btn" id="backBtn" title="Back">
        â† Back
      </button>

      <div class="title">
        <span class="emoji" id="categoryEmoji">ğŸ“š</span>
        <span class="txt" id="pageTitle">Loadingâ€¦</span>
      </div>

      <div class="right">
        <span class="counter" id="counter">â€“/â€“</span>
      </div>
    </div>
  </header>

  <main class="wrap">

    <div class="progress-wrap">
      <div class="progress-track">
        <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
      </div>
    </div>

    <section class="card">
      <div class="card-top">
        <div class="hint" id="hintText">Say this word</div>
        <div class="big" id="promptWord">â€”</div>
        <div class="meaning" id="meaningText"></div>
      </div>

      <!-- Listen row: plays real audio from the API -->
      <div class="listen-row">
        <button type="button" class="btn" id="listenBtn">ğŸ”Š Listen</button>
      </div>

      <!-- Record / Playback / Retry -->
      <div class="actions">
        <button type="button" class="round rec" id="recordBtn" title="Record">ğŸ™ï¸</button>
        <button type="button" class="round" id="playBtn" title="Play recording" disabled>â–¶ï¸</button>
        <button type="button" class="round" id="retryBtn" title="Retry" disabled>â†º</button>
      </div>

      <div class="mic-hint" id="micHint">Tap the microphone to record</div>

      <div class="meter-wrap">
        <div class="meter-label">Mic level</div>
        <div class="meter-track">
          <div class="meter-fill" id="meterFill" style="width:0%"></div>
        </div>
      </div>

      <!-- Evaluate pronunciation -->
      <div class="evaluate-row" id="evaluateRow" style="display:none">
        <button type="button" class="btn primary" id="evaluateBtn">ğŸ“Š Evaluate Pronunciation</button>
      </div>

      <!-- Feedback / Score -->
      <div class="feedback" id="feedback">
        <div class="fb-title">Feedback</div>
        <div class="fb-body" id="fbBody">
          Record your voice and tap Evaluate to get a pronunciation score.
        </div>
      </div>

      <!-- Score breakdown bars (hidden until evaluation) -->
      <div class="breakdown" id="breakdown" style="display:none">
        <div class="breakdown-title">Score Breakdown</div>
        <div class="breakdown-bar"><span class="breakdown-label">Pitch</span><div class="breakdown-track"><div class="breakdown-fill" id="barPitch" style="width:0%"></div></div><span class="breakdown-val" id="valPitch">â€“</span></div>
        <div class="breakdown-bar"><span class="breakdown-label">Formants</span><div class="breakdown-track"><div class="breakdown-fill" id="barFormants" style="width:0%"></div></div><span class="breakdown-val" id="valFormants">â€“</span></div>
        <div class="breakdown-bar"><span class="breakdown-label">Intensity</span><div class="breakdown-track"><div class="breakdown-fill" id="barIntensity" style="width:0%"></div></div><span class="breakdown-val" id="valIntensity">â€“</span></div>
        <div class="breakdown-bar"><span class="breakdown-label">Duration</span><div class="breakdown-track"><div class="breakdown-fill" id="barDuration" style="width:0%"></div></div><span class="breakdown-val" id="valDuration">â€“</span></div>
        <div class="breakdown-bar"><span class="breakdown-label">Voice Quality</span><div class="breakdown-track"><div class="breakdown-fill" id="barVoiceQuality" style="width:0%"></div></div><span class="breakdown-val" id="valVoiceQuality">â€“</span></div>
      </div>

      <!-- Nav -->
      <div class="nav">
        <button type="button" class="btn ghost" id="prevBtn">â† Previous</button>
        <button type="button" class="btn primary" id="nextBtn">Next â†’</button>
      </div>
    </section>

  </main>

  <script src="js/config.js"></script>
  <script src="js/api.js"></script>
  <script src="topic.js"></script>
</body>
</html>
